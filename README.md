# Основные процессы

## Процесс добавления метки

1. [Создается объект типа label_list хранящего все метки](#Создается-объект-типа-label_list-хранящего-все-метки)
1. [Клиент передает серверу данные](#Клиент-передает-серверу-данные)
    1. [Название](#название)
    1. [Никнейм](#никнейм)
    1. [Тип заведения](#тип-заведения)
    1. [Описание](#описание)
    1. [Адрес](#адрес)
1. [На стороне сервера создается объект типа label](#На-стороне-сервера-создается-объект-типа-label)
    1. [Создается уникальный ID](#Создается-уникальный-ID)
    1. [Инициализируются остальные поля](#Инициализируются-остальные-поля)
1. [Объект типа label добавляется в label_list](#Объект-типа-label-добавляется-в-label_list)


### Создается объект типа label_list хранящего все метки
Структура `label_list`, которая будет хранить объекты типа `label`. 
Для хранения используется поле типа `map`. Будем использовать структуру, а не 
просто глобальную переменнную типа `map`, чтобы проще было поддерживать 
сериализацию/десериализацию и методы для работы с клиентом/сервером.

### Клиент передает серверу данные
Про процесс передачи смотри подробнее в 
[Процесс создания метки](#Процесс-создания-метки)
##### Название
Строка, максимальный размер 100 символов, слова разделяются пробелами

##### Никнейм
Строка, максимальный размер 16 символов. Символы: буквы, цифры, нижние
подчеркивания

##### Тип заведения 
Заранее созданный список возможных типов мест (рестораны, кофейни,
клубы и тд.). При добавлении метки они список выглядит как иконки,
на которые можно нажать и тип данный тип будет передан серверу. 
(TODO - где хранить типы мест)

##### Описание
Строка, максимальный размер 1024 символов

##### Адрес
Пока просто строка, в которую записываются улица, дом и тд. (TODO
придумать что-нибудь умнее)

### На стороне сервера создается объект типа label
Вызов конструктора объекта label с переданными данными

##### Создается уникальный ID
Возможный вариант: счетчик меток, при добавлении метки он увеличивается
на единицу, тогда `id` метки - это значение счетчика. Но хотелось бы 
фиксированное количество символов (можно решить ведущими нулями). 
Другой минус - ограниченное (хоть и не сильно) число уникальных `id`

Другой вариант: генерация случайных символов и цифр фиксированного
количества, но тогда возможны коллизии.

##### Инициализируются остальные поля
TODO

### Объект типа label добавляется в label_list
Что-то вроде обычного пушбека в структуру `label_list`
